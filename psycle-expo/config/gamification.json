{
    "version": 1,
    "xp_rewards": {
        "correct_answer": 5,
        "lesson_complete": 20,
        "felt_better_positive": 10
    },
    "freeze": {
        "weekly_refill": 2,
        "purchase_cost_gems": 10,
        "max_cap": 10
    },
    "streak": {
        "study_per_day_limit": 1
    },
    "streak_milestones": {
        "lifetime_once": true,
        "rewards": [
            { "day": 3, "gems": 5 },
            { "day": 7, "gems": 10 },
            { "day": 30, "gems": 20 },
            { "day": 60, "gems": 30 },
            { "day": 100, "gems": 50 },
            { "day": 365, "gems": 100 }
        ]
    },
    "combo_xp": {
        "enabled": true,
        "milestones": [
            { "streak": 3, "multiplier": 1.2 },
            { "streak": 5, "multiplier": 1.5 },
            { "streak": 10, "multiplier": 2.0 }
        ],
        "bonus_cap_per_lesson": 20
    },
    "shop_sinks": {
        "energy_full_refill": {
            "enabled": true,
            "cost_gems": 30,
            "daily_limit": 1
        }
    },
    "double_xp_nudge": {
        "enabled": true,
        "daily_show_limit": 1,
        "min_gems": 20,
        "require_inactive_boost": true
    },
    "event_campaign": {
        "enabled": true,
        "id": "spring_challenge_2026",
        "start_at": "2026-04-29T00:00:00+09:00",
        "end_at": "2026-05-06T23:59:59+09:00",
        "title_key": "events.spring2026.title",
        "community_target_lessons": 10000,
        "reward_badge_id": "event_spring_2026",
        "quests": [
            {
                "template_id": "ev_lessons_20",
                "metric": "lesson_complete",
                "need": 20,
                "reward_gems": 20,
                "title_key": "events.spring2026.quest_lessons_20"
            },
            {
                "template_id": "ev_streak5_5",
                "metric": "streak5_milestone",
                "need": 5,
                "reward_gems": 30,
                "title_key": "events.spring2026.quest_streak5_5"
            }
        ]
    },
    "league_matchmaking": {
        "relative_gap_weight": 1.0,
        "variance_penalty_weight": 0.35,
        "min_members_for_variance": 3
    },
    "notifications": {
        "streak_risk_hour": 22,
        "daily_quest_deadline_hour": 21,
        "league_demotion_risk_hour_sunday": 18,
        "default_enabled": true
    }
}
